<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>JS Bin</title>
</head>
<body>
<script>
  let choices = ['rock','paper','scissors']

  const array = [
    ['t','l','w'],
    ['w','t','l'],
    ['l','w','t']
  ];

  const resultMap = {
    't' : "Tie",
    'w' : "You Win!",
    'l' : "You Lose!"
  };

  let computerwins = 0
  let yourwins = 0

  function computerPlay(){
      let cChoice = choices[Math.floor(Math.random()*choices.length)]
      let cChoiceIndex = choices.indexOf(cChoice)
      return cChoiceIndex
  }

  //human input

  function getNumberRounds(){
      let numberRounds = Number(prompt("How many rounds to play?"));
      if (typeof numberRounds !== 'number'){
        numberRounds = Number(prompt("Please enter a number."));
      }
      return numberRounds;
     }

  function yourPlay(){
      let selection = prompt("Please choose Rock, Paper, or Scissors and enter below","Empty")
      let selectionCase = selection.toLowerCase()
      let playerSelection = choices.indexOf(selectionCase)
      return playerSelection
  }

  //playing the game

  function playRound(computerSelection,playerSelection){
    let result = array[computerPlay()][yourPlay()]
    if (result === 'w'){
      console.log("You Win!")
      yourwins +=1;
    } else if (result === 'l'){
      console.log("You Lose!")
      computerwins +=1;
    }else{
      console.log("It's a tie.");
    }
  }

  function game(rounds){
    while(rounds > 0){
      playRound();
      rounds -=1;
      console.log(`There are ${rounds} rounds left.`);
    }
    if (computerwins > yourwins){
      console.log(`Unlucky, you've lost ${computerwins} to ${yourwins} to the computer`);
    }
    else if (yourwins > computerwins){
      console.log(`Nice, you've won ${computerwins} to ${yourwins} against the computer`);
    }
    else {
      console.log("Youve tied the computer.");
    }
  }

  game(getNumberRounds())

</script>
</body>
</html>

<script src="./rps.js"></script>
